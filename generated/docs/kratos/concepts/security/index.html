<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-71865250-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>

<title data-react-helmet="true">Threat Models and Security Profiles | ORY Kratos</title>

<meta data-react-helmet="true" name="docsearch:version" content="v0.2"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Threat Models and Security Profiles | ORY Kratos"><meta data-react-helmet="true" name="description" content="Running any software that stores personal information exposes the"><meta data-react-helmet="true" property="og:description" content="Running any software that stores personal information exposes the"><meta data-react-helmet="true" property="og:url" content="https://www.ory.sh//kratos/docs/concepts/security">

<link data-react-helmet="true" rel="shortcut icon" href="/kratos/docs/img/favico.png">


<link rel="stylesheet" href="/kratos/docs/styles.87ba0952.css">


<link rel="preload" href="/kratos/docs/styles.d411c1a8.js" as="script">

<link rel="preload" href="/kratos/docs/runtime~main.3359c4da.js" as="script">

<link rel="preload" href="/kratos/docs/main.b0518877.js" as="script">

<link rel="preload" href="/kratos/docs/1.c26d43c3.js" as="script">

<link rel="preload" href="/kratos/docs/2.117a5eae.js" as="script">

<link rel="preload" href="/kratos/docs/1be78505.5d63bf51.js" as="script">

<link rel="preload" href="/kratos/docs/136.ea464d61.js" as="script">

<link rel="preload" href="/kratos/docs/a7f4b2b8.d59f831e.js" as="script">

<link rel="preload" href="/kratos/docs/17896441.cc661f4d.js" as="script">

<link rel="preload" href="/kratos/docs/886942f2.697675b7.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" to="https://www.ory.sh/kratos" rel="noopener noreferrer" target="_blank" href="https://www.ory.sh/kratos"><img class="navbar__logo" src="/kratos/docs/img/logo-kratos.svg" alt="ORY Kratos"></a><a class="navbar__item navbar__link" href="/kratos/docs/index">Docs</a><a target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/docs" class="navbar__item navbar__link">Ecosystem</a><a target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/blog" class="navbar__item navbar__link">Blog</a><a target="_blank" rel="noopener noreferrer" href="https://community.ory.sh" class="navbar__item navbar__link">Forum</a><a target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/chat" class="navbar__item navbar__link">Chat</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/ory/kratos" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/kratos/docs/versions">v0.2</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" to="https://www.ory.sh/kratos" rel="noopener noreferrer" target="_blank" href="https://www.ory.sh/kratos"><img class="navbar__logo" src="/kratos/docs/img/logo-kratos.svg" alt="ORY Kratos"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/index">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/docs" class="menu__link">Ecosystem</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/blog" class="menu__link">Blog</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://community.ory.sh" class="menu__link">Forum</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/chat" class="menu__link">Chat</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ory/kratos" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/versions">v0.2</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/index">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/quickstart">Quickstart</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/install">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/ui-user-interface">User Interface</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/identity-user-model">Identity Data Model</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Identity Credentials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/credentials">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/credentials/username-email-password">Username / Email &amp; Password</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/credentials/openid-connect-oidc-oauth2">Social Sign In, OpenID Connect, and OAuth2</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/email-sms">Out-of-band communication via E-Mail and SMS</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/federation">Federation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/kratos/docs/concepts/security">Threat Models and Security Profiles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Self Service</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/index">Before you start reading</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Flows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/user-login-user-registration">User Login and User Registration</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/user-logout">User Logout</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/user-settings-profile-management">User Settings and Profile Management</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/password-reset-account-recovery">Account Recovery</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/user-facing-errors">User-Facing Errors</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/verify-email-account-activation">Email and Phone Verification and Account Activation</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/flows/2fa-mfa-multi-factor-authentication">MFA / 2FA</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Strategies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/strategies/username-email-password">Username or Email and Password</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/strategies/openid-connect-social-sign-in-oauth2">Social Sign In with OpenID Connect and OAuth2</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/strategies/user-settings-profile">User Profile</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hooks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/self-service/hooks/index">Hooks</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/guides/zero-trust-iap-proxy-identity-access-proxy">Zero Trust with IAP Proxy</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/guides/multi-tenancy-multitenant">Multitenancy</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/guides/high-availability-ha">High Availability</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/reference/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/reference/json-schema-json-paths">JSON Schema and JSON Paths</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/reference/html-forms">HTML Form Parser</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/reference/api">REST API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Debug &amp; Help</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/debug/csrf">Common Cookie and CSRF Pitfalls</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SDKs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/sdk/index">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Further Reading</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/further-reading/comparison">Comparison</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ORY Hydra</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" to="https://www.ory.sh/hydra" target="_blank" rel="noreferrer noopener" href="https://www.ory.sh/hydra">Home</a></li><li class="menu__list-item"><a class="menu__link" to="https://www.ory.sh/hydra/docs" target="_blank" rel="noreferrer noopener" href="https://www.ory.sh/hydra/docs">Docs</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/ory/hydra" target="_blank" rel="noreferrer noopener" href="https://github.com/ory/hydra">GitHub</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ORY Oathkeeper</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" to="https://www.ory.sh/oathkeeper" target="_blank" rel="noreferrer noopener" href="https://www.ory.sh/oathkeeper">Home</a></li><li class="menu__list-item"><a class="menu__link" to="https://www.ory.sh/oathkeeper/docs" target="_blank" rel="noreferrer noopener" href="https://www.ory.sh/oathkeeper/docs">Docs</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/ory/oathkeeper" target="_blank" rel="noreferrer noopener" href="https://github.com/ory/oathkeeper">GitHub</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ORY Keto</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" to="https://www.ory.sh/keto" target="_blank" rel="noreferrer noopener" href="https://www.ory.sh/keto">Home</a></li><li class="menu__list-item"><a class="menu__link" to="https://www.ory.sh/keto/docs" target="_blank" rel="noreferrer noopener" href="https://www.ory.sh/keto/docs">Docs</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/ory/keto" target="_blank" rel="noreferrer noopener" href="https://github.com/ory/keto">GitHub</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><div><span class="badge badge--secondary">Version: v0.2</span></div><header><h1 class="docTitle_1vWb">Threat Models and Security Profiles</h1></header><div class="markdown"><p>Running any software that stores personal information exposes the
developer/company to risks. Analyzing which threat agents pose a risk,
understanding the possible motivations for an attack, or why an agent is a
threat, knowing the attack surface, the likelihood, and the impact are important
all aspects of a threat model.</p><p>This documentation can not substitute a thorough and serious threat model, yet
it will provide some guidelines to help configure ORY Kratos in a way that makes
it best suited for any risk assessment.</p><p>:::warn</p><p>Please be aware that this chapter is still work in progress. Not all mitigation
strategies have been implemented yet in ORY Kratos!</p><p>:::</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="understanding-threats"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#understanding-threats" title="Direct link to heading">#</a>Understanding Threats</h2><p>This section examines several threat vectors in systems that manage identities.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="account-enumeration-attacks"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#account-enumeration-attacks" title="Direct link to heading">#</a>Account Enumeration Attacks</h3><blockquote><p>&quot;Often, web applications reveal when a username exists on system, either as a
consequence of a misconfiguration or as a design decision. For example,
sometimes, when we submit wrong credentials, we receive a message that states
that either the username is present on the system or the provided password is
wrong. The information obtained can be used by an attacker to gain a list of
users on system. This information can be used to attack the web application,
for example, through a brute force or default username/password attack.
Description of the Issue&quot;</p><p><a href="https://wiki.owasp.org/index.php/Testing_for_User_Enumeration_and_Guessable_User_Account_(OWASP-AT-002)">Source</a></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="scenarios"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#scenarios" title="Direct link to heading">#</a>Scenarios</h4><p>Considering the above, an example would be for example an adult website. A
threat agent wants to blackmail a well known politician by checking if someone
can sign up at that website using the <code>well-known-politician@email.com</code> email.</p><p>If the service responds with
<code>Sorry, that email is already signed up here. Did you try to log in instead?</code>,
the agent is able to proceed with some type of blackmail scheme.</p><p><a href="https://wiki.owasp.org/index.php/Testing_for_User_Enumeration_and_Guessable_User_Account_(OWASP-AT-002)#Black_Box_testing_and_example">OWASP defines several Black-Box tests</a>
that cover Account Enumeration Scenarios.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="mitigation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mitigation" title="Direct link to heading">#</a>Mitigation</h4><p>ORY Kratos can be configured to send an out-of-band message to the email used
for login, registration, account recovery, etc.:</p><ul><li>If an application or user tries to sign in using an unknown email address, an
email will be sent to that address reading &quot;You tried to sign in at X but you
do not have an account yet, did you mean to sign up instead?&quot;</li><li>...</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="bruteforce-attacks"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bruteforce-attacks" title="Direct link to heading">#</a>Bruteforce Attacks</h3><p>Will be addressed in a future release.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="phishing-attacks"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#phishing-attacks" title="Direct link to heading">#</a>Phishing Attacks</h3><p>Will be addressed in a future release.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="social-engineering-attacks"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#social-engineering-attacks" title="Direct link to heading">#</a>Social Engineering Attacks</h3><p>Will be addressed in a future release.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sms-spoofing-attacks"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sms-spoofing-attacks" title="Direct link to heading">#</a>SMS Spoofing Attacks</h3><p>Will be addressed in a future release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="choosing-the-right-security-profile-and-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#choosing-the-right-security-profile-and-configuration" title="Direct link to heading">#</a>Choosing the right Security Profile and Configuration</h2><p>Will be addressed in a future release.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="argon2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#argon2" title="Direct link to heading">#</a>Argon2</h3><p>ORY Kratos uses Argon2 for password hashing. Argon2 is the official winner of
the PHC 2017. You can tweak the Argon2 configuration in your ORY Kratos
configuration file:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">hashers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">argon2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1048576</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">iterations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">parallelism</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">salt_length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">key_length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">32</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="digital-identity-guidelines"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#digital-identity-guidelines" title="Direct link to heading">#</a>Digital Identity Guidelines</h2><p>There is no one standard to digital identity. ORY Kratos closely follows
emerging frameworks and guidelines such as:
<a href="https://pages.nist.gov/800-63-3/">Digital Identity Guidelines established by the National Institute of Standards and Technology (NIST)</a>
(and a follow-up <a href="https://pages.nist.gov/800-63-3/">FAQ</a>) .</p><p>As ORY Kratos grows, this document will continue to expand and add sections
covering individual security recommendations established by NIST.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="password-policy"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#password-policy" title="Direct link to heading">#</a>Password Policy</h3><p>Almost every service with a login offers some type of registration using a
password. Therefore, there are many strategies floating around, with many of
them implementing terrible and insecure patterns such as:</p><ul><li>Not allowing special characters in passwords.</li><li>Not allowing the use of password managers by disabling the &quot;paste&quot;
functionality in password fields.</li><li>Requiring you to rotate your password every month.</li><li>...</li></ul><p>Troy Hunt has written an
<a href="https://www.troyhunt.com/passwords-evolved-authentication-guidance-for-the-modern-era/">excellent piece on password policies</a>
and why they recently changed and how.</p><p>ORY Kratos implements a password policy that:</p><ul><li>Checks if a password has previously been leaked using the
<a href="https://haveibeenpwned.com/API/v2">HIBP API</a>; and</li><li>Checks if a password is too similar to one of the identifiers (in a future
release <a href="https://github.com/ory/kratos/issues/184">kratos#184</a>).</li></ul><p>This is a rundown of all the practices ORY Kratos implements and why. <strong>Some
things need to be implemented by yourself</strong> as they must be implemented in the
User Interface that interfaces with ORY Kratos. You can find these in section
<a aria-current="page" class="active" href="/kratos/docs/concepts/security#user-interface-guidelines">User Interface Guidelines</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="password-complexity"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#password-complexity" title="Direct link to heading">#</a>Password Complexity</h4><p>This outline and quotes are defined in the
<a href="https://pages.nist.gov/800-63-3/sp800-63b.html">NIST Digital Identity Guidelines - 5.1.1.2 Memorized Secret Verifiers</a>.
ORY Kratos, unless explicitly advertised, implements these guidelines and best
practices.</p><p>Passwords must have a minimum length of 8 characters and all characters
(unicode, ASCII) must be allowed:</p><blockquote><p>Verifiers SHALL require subscriber-chosen memorized secrets to be at least 8
characters in length. Verifiers SHOULD permit subscriber-chosen memorized
secrets at least 64 characters in length. All printing ASCII [RFC 20]
characters as well as the space character SHOULD be acceptable in memorized
secrets. Unicode [ISO/ISC 10646] characters SHOULD be accepted as well. To
make allowances for likely mistyping, verifiers MAY replace multiple
consecutive space characters with a single space character prior to
verification, provided that the result is at least 8 characters in length.
Truncation of the secret SHALL NOT be performed. For purposes of the above
length requirements, each Unicode code point SHALL be counted as a single
character.</p></blockquote><p>Passwords must be checked against a database of compromised secrets such as
<a href="https://haveibeenpwned.com">Have I Been Pwnd</a>:</p><blockquote><p>When processing requests to establish and change memorized secrets, verifiers
SHALL compare the prospective secrets against a list that contains values
known to be commonly-used, expected, or compromised. For example, the list MAY
include, but is not limited to:</p><ul><li>Passwords obtained from previous breach corpuses.</li><li>Dictionary words.</li><li>Repetitive or sequential characters (e.g. ‘aaaaaa’, ‘1234abcd’).</li><li>Context-specific words, such as the name of the service, the username, and
derivatives thereof.</li></ul><p>If the chosen secret is found in the list, the CSP or verifier SHALL advise
the subscriber that they need to select a different secret, SHALL provide the
reason for rejection, and SHALL require the subscriber to choose a different
value.</p></blockquote><p>Show the user a password-strength meter (to be implemented, see
<a href="https://github.com/ory/kratos/issues/136">#136</a>):</p><blockquote><p>Verifiers SHOULD offer guidance to the subscriber, such as a password-strength
meter [Meters], to assist the user in choosing a strong memorized secret. This
is particularly important following the rejection of a memorized secret on the
above list as it discourages trivial modification of listed (and likely very
weak) memorized secrets</p></blockquote><p>Do not require mixtures of characters types or prohibiting repeated characters:</p><blockquote><p>Verifiers SHOULD NOT impose other composition rules (e.g., requiring mixtures
of different character types or prohibiting consecutively repeated characters)
for memorized secrets. Verifiers SHOULD NOT require memorized secrets to be
changed arbitrarily (e.g., periodically). However, verifiers SHALL force a
change if there is evidence of compromise of the authenticator.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="user-interface-guidelines"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#user-interface-guidelines" title="Direct link to heading">#</a>User Interface Guidelines</h4><p>These best practices need to be implemented in your User Interface and can not
be handled by ORY Kratos. All ORY-built reference and demo applications
implement these best practices:</p><p>Allow pasting of passwords:</p><blockquote><p>Verifiers SHOULD permit claimants to use “paste” functionality when entering a
memorized secret. This facilitates the use of password managers, which are
widely used and in many cases increase the likelihood that users will choose
stronger memorized secrets.</p></blockquote><p>Allow the user to show the secret in the UI:</p><blockquote><p>In order to assist the claimant in successfully entering a memorized secret,
the verifier SHOULD offer an option to display the secret — rather than a
series of dots or asterisks — until it is entered. This allows the claimant to
verify their entry if they are in a location where their screen is unlikely to
be observed. The verifier MAY also permit the user’s device to display
individual entered characters for a short time after each character is typed
to verify correct entry. This is particularly applicable on mobile devices.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="password-hints"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#password-hints" title="Direct link to heading">#</a>Password Hints</h4><blockquote><p>Memorized secret verifiers SHALL NOT permit the subscriber to store a “hint”
that is accessible to an unauthenticated claimant.</p><p><a href="https://pages.nist.gov/800-63-3/sp800-63b.html">NIST Digital Identity Guidelines - 5.1.1.2 Memorized Secret Verifiers</a></p></blockquote></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ory/kratos/edit/master/docs/versioned_docs/version-v0.2/concepts/security.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-05-04T15:18:18.000Z" class="docLastUpdatedAt_1sqk">5/4/2020</time> by <strong>aeneasr</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/kratos/docs/concepts/federation"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Federation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/kratos/docs/self-service/index"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Before you start reading »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#understanding-threats" class="contents__link">Understanding Threats</a><ul><li><a href="#account-enumeration-attacks" class="contents__link">Account Enumeration Attacks</a></li><li><a href="#bruteforce-attacks" class="contents__link">Bruteforce Attacks</a></li><li><a href="#phishing-attacks" class="contents__link">Phishing Attacks</a></li><li><a href="#social-engineering-attacks" class="contents__link">Social Engineering Attacks</a></li><li><a href="#sms-spoofing-attacks" class="contents__link">SMS Spoofing Attacks</a></li></ul></li><li><a href="#choosing-the-right-security-profile-and-configuration" class="contents__link">Choosing the right Security Profile and Configuration</a><ul><li><a href="#argon2" class="contents__link">Argon2</a></li></ul></li><li><a href="#digital-identity-guidelines" class="contents__link">Digital Identity Guidelines</a><ul><li><a href="#password-policy" class="contents__link">Password Policy</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/imprint">Imprint</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/privacy">Privacy</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.ory.sh/tos">Terms</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 ORY GmbH</div></div></div><div id="codefund"></div><script src="https://codefund.io/properties/140/funder.js" async=""></script><script>document.querySelectorAll(".tabs .tabs-nav .nav-item a").forEach((function(t){t.addEventListener("click",(function(e){return e.preventDefault(),t.closest(".tabs-nav").querySelectorAll(".nav-item a").forEach((function(t){t.classList.remove("active")})),t.closest(".tabs").querySelectorAll(".tab-content .tab-pane").forEach((function(t){t.classList.remove("active")})),t.classList.add("active"),document.getElementById(t.href.split("#")[1]).classList.add("active"),!1}))}))</script></footer>
</div>

<script src="/kratos/docs/styles.d411c1a8.js"></script>

<script src="/kratos/docs/runtime~main.3359c4da.js"></script>

<script src="/kratos/docs/main.b0518877.js"></script>

<script src="/kratos/docs/1.c26d43c3.js"></script>

<script src="/kratos/docs/2.117a5eae.js"></script>

<script src="/kratos/docs/1be78505.5d63bf51.js"></script>

<script src="/kratos/docs/136.ea464d61.js"></script>

<script src="/kratos/docs/a7f4b2b8.d59f831e.js"></script>

<script src="/kratos/docs/17896441.cc661f4d.js"></script>

<script src="/kratos/docs/886942f2.697675b7.js"></script>


</body>
</html>